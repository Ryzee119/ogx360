; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env]
platform = atmelavr
board = leonardo
board_build.f_cpu = 16000000L

src_filter =
    +<*.cpp> +<*.c>
    +<usbd/*.cpp> +<usbd/*.c>
    +<usbh/*.cpp> +<usbh/*.c>
    +<lib/UHS2/Usb.cpp>
    +<lib/UHS2/message.cpp>
    +<lib/UHS2/parsetools.cpp>
    +<lib/UHS2/usbhub.cpp>
    +<lib/ArduinoCore-avr/cores/arduino/*.cpp>
    +<lib/ArduinoCore-avr/cores/arduino/*.c>
    +<lib/ArduinoCore-avr/libraries/HID/src/*.cpp>
    +<lib/ArduinoCore-avr/libraries/SPI/src/*.cpp>
    +<lib/ArduinoCore-avr/libraries/SoftwareSerial/src/*.cpp>
    +<lib/ArduinoCore-avr/libraries/Wire/src/*.cpp>
    +<lib/ArduinoCore-avr/libraries/Wire/src/utility/*.c>

build_flags =
    -DUSB_VID=0x045E
    -DUSB_PID=0x0289
    -D__AVR_ATmega32U4__
    -DARDUINO_AVR_LEONARDO
    -DF_CPU=16000000L
    -DARDUINO_ARCH_AVR
    -DARDUINO=10808
    -DDISABLE_CDC
    -DUSB_VERSION=0x0110
    -Isrc/lib
    -Isrc/lib/ArduinoCore-avr/cores/arduino
    -Isrc/lib/ArduinoCore-avr/variants/leonardo
    -Isrc/lib/ArduinoCore-avr/libraries/HID/src
    -Isrc/lib/ArduinoCore-avr/libraries/EEPROM/src
    -Isrc/lib/ArduinoCore-avr/libraries/SPI/src
    -Isrc/lib/ArduinoCore-avr/libraries/SoftwareSerial/src
    -Isrc/lib/ArduinoCore-avr/libraries/Wire/src
    -Os
    -Wall

[env:MASTER_360WLESS_360W_STEELBATTALION]
build_flags =
    ${env.build_flags}
    -DDISABLE_WIREDXBOXONE
    -DMAX_CONTROLLERS=4

[env:MASTER_360WLESS_360W_ONEW]
build_flags =
    ${env.build_flags}
    -DDISABLE_BATTALION
    -DMAX_CONTROLLERS=1

[env:SLAVE]
build_flags =
    ${env.build_flags}
    -DCOMPILE_SLAVE
    -DMAX_CONTROLLERS=1